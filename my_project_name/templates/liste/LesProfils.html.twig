{% extends 'base.html.twig' %}

{% block title %}Hello ListeController!{% endblock %}

{% block body %}

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }} alert-dismissible fade show" role="alert">
                <i class="fas fa-check-circle"></i> {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
    {% endfor %}

    <!-- TITRE -->
    <div class="row mt-4">
        <div class="col-7">
            <h1>Liste des profiles</h1>

        </div>
        <div class="col-5">

            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" name="name" type="text" placeholder="Rechercher un artiste">
                <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Rechercher</button>
            </form>
{#            {{ form_start(search) }}#}
{#                {{ form_row(search) }}#}
{#            {{ form_end(search) }}#}
        </div>
    </div>


    <!-- LISTES DES PROFILES -->

    <div class="px-3">
{#        {% if not search %}#}
            {% for profil in profiles %}
                <div class="row mt-3 py-4 border-bottom" id="Profiles">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-4">
                                <a href="{{ path('profil', {id:profil.id}) }}">
                                    <img src="{{ asset('images/'~profil.avatar) }}" alt="{{ profil.name }}" class="img-thumbnail">
                                </a>
                            </div>
                            <div class="col-8">
                                <div class="row">
                                    <div class="col-12">
                                        <h2>{{ profil.name }} {{ profil.lastname }}</h2>
                                        {% if not profil.description == null %}
                                        <p>{{ profil.description|raw|slice(0,60) }}...</p>
                                        {% endif %}
                                        <div class="row">
                                            <div class="col-4">
                                                <p>{{ profil.email }}</p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-8">
                                                <a class="btn btn-outline-primary" href="{{ path('mon_compte', {id: profil.id}) }}">Voir le profil <i class="fas fa-search-plus"></i></a>
                                                <a class="btn btn-outline-primary" href="{{ path('contact-profil', {id: profil.id}) }}">Me contacter <i class="fas fa-envelope"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
{#            {% endfor %}#}
{#        {% else %}#}
{#            {% for profil in profiles %}#}
{#                <div class="row mt-3 py-4 border-bottom" id="Profiles">#}
{#                    <div class="col-md-12">#}
{#                        <div class="row">#}
{#                            <div class="col-4">#}
{#                                <a href="{{ path('profil', {id:profil.id}) }}">#}
{#                                    <img src="{{ asset('images/'~profil.avatar) }}" alt="{{ profil.name }}" class="img-thumbnail">#}
{#                                </a>#}
{#                            </div>#}
{#                            <div class="col-8">#}
{#                                <div class="row">#}
{#                                    <div class="col-12">#}
{#                                        <h2>{{ profil.name }} {{ profil.lastname }}</h2>#}
{#                                        {% if not profil.description == null %}#}
{#                                            <p>{{ profil.description|raw|slice(0,60) }}...</p>#}
{#                                        {% endif %}#}
{#                                        <div class="row">#}
{#                                            <div class="col-4">#}
{#                                                <p>{{ profil.email }}</p>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                        <div class="row">#}
{#                                            <div class="col-8">#}
{#                                                <a class="btn btn-outline-primary" href="{{ path('profil', {id: profil.id}) }}">Voir le profil <i class="fas fa-search-plus"></i></a>#}
{#                                                <a class="btn btn-outline-primary" href="{{ path('contact-profil', {id: profil.id}) }}">Me contacter <i class="fas fa-envelope"></i></a>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}

{#                    </div>#}
{#                </div>#}
            {% endfor %}
{#        {% endif %}#}
    </div>


{% endblock %}
