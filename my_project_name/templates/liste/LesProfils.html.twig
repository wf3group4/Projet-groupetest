{% extends 'base.html.twig' %}

{% block title %}Hello ListeController!{% endblock %}

{% block body %}

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }} alert-dismissible fade show" role="alert">
                <i class="fas fa-check-circle"></i> {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
    {% endfor %}

    <!-- TITRE -->
    <div class="row mt-4">
        <div class="col-md-12">
            <h1>Listes des profiles</h1>
            <p>Te voici sur la page de tous les profiles de cette communaut√©</p>
        </div>
    </div>

    <!-- LISTES DES PROFILES -->

    <div class="px-3">
    {% for profil in profiles %}
        <div class="row mt-3 py-4 border-bottom" id="Profiles">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-4">
                        {% if profil.avatar %}
                        <a href="{{ path('profil', {id:profil.id}) }}">
                            <img src="images/{{ profil.avatar }}" alt="avatar" class="w-50">
                        </a>
                        {% else %}
                            <a href="{{ path('profil', {id: profil.id}) }}">
                                <img src="{{ asset('images/imageDefault.jpg')}}" alt="avatar" class="img-thumbnail" title="Voir le profil">
                            </a>
                        {% endif %}
                    </div>
                    <div class="col-8">
                        <div class="row">
                            <div class="col-12">
                                <h2>{{ profil.name }} {{ profil.lastname }}</h2>
                                {% if not profil.description == null %}
                                <p>{{ profil.description|raw|slice(0,60) }}...</p>
                                {% endif %}
                                <div class="row">
                                    <div class="col-4">
                                        <p>{{ profil.email }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-8">
                                        <a class="btn btn-outline-primary" href="{{ path('mon_compte', {id: profil.id}) }}">Voir le profil <i class="fas fa-search-plus"></i></a>
                                        <a class="btn btn-outline-primary" href="#">Me contacter <i class="fas fa-envelope"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    {% endfor %}
    </div>


{% endblock %}
